<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <title>FX Mobile – Majors & EURGBP (2×4)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root { color-scheme: dark; }
    * { box-sizing: border-box; }
    body{
      margin:0; background:#111; color:#eee;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      display:flex; flex-direction:column; min-height:100dvh;
    }
    /* Toolbar */
    .toolbar{
      position:sticky; top:0; z-index:10;
      display:flex; gap:8px; align-items:center; padding:10px 12px;
      border-bottom:1px solid #222; background:#0f0f10;
    }
    .toolbar h1{ font-size:14px; font-weight:600; margin:0 10px 0 0; color:#bbb; }
    .btn{
      border:1px solid #2a2a2d; background:#151518; color:#eee;
      padding:8px 12px; border-radius:10px; cursor:pointer; font-weight:600;
    }
    .btn:hover{ background:#1b1b20; }
    .btn.active{ border-color:#3a86ff; box-shadow:0 0 0 2px rgba(58,134,255,0.25) inset; }

    /* Grid – fix 2 Spalten für Mobile */
    #grid{
      flex:1; display:grid; gap:6px; padding:6px;
      grid-template-columns: repeat(2, 1fr);   /* 2 nebeneinander */
      grid-auto-rows: 1fr; min-height:0;
    }
    .chart{ min-width:0; min-height:0; }
    .tradingview-widget-container, .tradingview-widget-container__widget{
      width:100%; height:100%;
    }
  </style>
</head>
<body>

  <!-- Toolbar (Zeitraum umschalten) -->
  <div class="toolbar">
    <h1>Zeitraum:</h1>
    <button class="btn active" data-range="1D">1D</button>
    <button class="btn" data-range="1M">1M</button>
    <button class="btn" data-range="3M">3M</button>
    <button class="btn" data-range="1Y">1Y</button>
  </div>

  <!-- Grid 2 × 4 -->
  <div id="grid"></div>

  <script>
    // 8 Paare: Majors + EURGBP
    const symbols = [
      "FX:EURUSD",
      "FX:GBPUSD",
      "FX:AUDUSD",
      "FX:NZDUSD",
      "FX:USDCHF",
      "FX:USDJPY",
      "FX:USDCAD",
      "FX:EURGBP"
    ];

    function renderGrid(dateRange) {
      const grid = document.getElementById('grid');
      grid.innerHTML = "";

      for (let i = 0; i < symbols.length; i++) {
        const sym = symbols[i];

        const outer = document.createElement('div');
        outer.className = 'chart';

        const wrap = document.createElement('div');
        wrap.className = 'tradingview-widget-container';

        const widget = document.createElement('div');
        widget.className = 'tradingview-widget-container__widget';

        const s = document.createElement('script');
        s.async = true;
        s.type = 'text/javascript';
        s.src = 'https://s3.tradingview.com/external-embedding/embed-widget-mini-symbol-overview.js';
        s.innerHTML = JSON.stringify({
          symbol: sym,
          dateRange: dateRange,
          colorTheme: "dark",
          locale: "de_DE",
          autosize: true
        });

        wrap.appendChild(widget);
        wrap.appendChild(s);
        outer.appendChild(wrap);
        grid.appendChild(outer);
      }
    }

    // Buttons verknüpfen
    document.querySelectorAll('.btn').forEach(btn=>{
      btn.addEventListener('click',()=>{
        document.querySelectorAll('.btn').forEach(b=>b.classList.remove('active'));
        btn.classList.add('active');
        renderGrid(btn.getAttribute('data-range'));
      });
    });

    // Start: 1D
    renderGrid("1D");
  </script>

</body>
</html>
